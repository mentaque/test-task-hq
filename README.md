# Тестовое задание для hardqode
## Технологии
- Django
- DRF
- SQLite3
- drf-yasg для тестов api
# Построение архитектуры
Были созданы модели Product, ProductAccess, Lesson, LessonView для заданной архитектуры приложения и для последующих запросов. Посмотреть модели [`hq_testt/application/models.py`](hq_testt/application/models.py)
# API и написание запросов
Были написаны оптимизированные запросы в базу данных. Посмотреть запросы [`hq_testt/application/views.py`](hq_testt/application/views.py)  
Было создано 2 endpoint'а(объединил 1 и 2 api, т.к. они похожи)
1) `GET http://localhost:8000/lessons/?user=2` - реализация первого API для выведения списка всех уроков по всем продуктам к которым пользователь имеет доступ, с выведением информации о статусе и времени просмотра.
2) `GET http://localhost:8000/lessons/?user=2&product=3` - реализация второго API с выведением списка уроков по конкретному продукту к которому пользователь имеет доступ, с выведением информации о статусе и времени просмотра, а также датой последнего просмотра ролика.
3) `GET http://localhost:8000/product_stats/` - реализация третьего API для отображения статистики по продуктам. Необходимо отобразить список всех продуктов на платформе, к каждому продукту приложить информацию:
- Количество просмотренных уроков от всех учеников.
- Сколько в сумме все ученики потратили времени на просмотр роликов.
- Количество учеников занимающихся на продукте.
- Процент приобретения продукта (рассчитывается исходя из количества полученных доступов к продукту деленное на общее количество пользователей на платформе).



